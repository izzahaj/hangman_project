{"ast":null,"code":"import _slicedToArray from\"/Users/izzah/Documents/Programming/hangman_project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import SubmitScore from\"./SubmitScore\";import Modal from\"./modal/Modal\";import ModalHeader from\"./modal/ModalHeader\";import ModalTitle from\"./modal/ModalTitle\";import ModalBody from\"./modal/ModalBody\";import ModalFooter from\"./modal/ModalFooter\";import GameLayout from\"./GameLayout\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Singleplayer=function Singleplayer(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpenModal=_useState2[0],setIsOpenModal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showSubmit=_useState4[0],setShowSubmit=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),start=_useState6[0],setStart=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),time=_useState8[0],setTime=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),word=_useState10[0],setWord=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),correct=_useState12[0],setCorrect=_useState12[1];var _useState13=useState(6),_useState14=_slicedToArray(_useState13,2),lives=_useState14[0],setLives=_useState14[1];// 6 lives\nvar _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),status=_useState16[0],setStatus=_useState16[1];var hiddenWord=word.toUpperCase().split(\"\").map(function(letter){return correct.includes(letter)?letter:\"_\";}).join(\" \");var MAX_SCORE=24000;var MAX_BONUS=60000;var bonus=time>60000||status===\"L\"?0:MAX_BONUS-time;var endMessage=status===\"W\"?\"You won!\":\"You lost!\";var showModal=function showModal(){setIsOpenModal(true);};var hideModal=function hideModal(){setIsOpenModal(false);};var checkWin=function checkWin(){if(!hiddenWord.includes(\"_\")&&lives>0){setStatus(\"W\");endGame();}else if(hiddenWord.includes(\"_\")&&lives===0){setStatus(\"L\");endGame();}};var countPoints=function countPoints(){if(status===\"W\"&&lives>0){return lives/6*MAX_SCORE+bonus;}else{return 0;}};var endGame=function endGame(){setStart(false);showModal();};var randomIntFromInterval=function randomIntFromInterval(min,max){return Math.floor(Math.random()*(max-min+1)+min);};var getWord=function getWord(){fetch(\"https://www.wordgamedb.com/api/v1/words/?numLetters=\".concat(randomIntFromInterval(3,7))).then(function(res){if(!res.ok){throw new Error(\"Could not fetch word data.\");}return res.json();}).then(function(data){setWord(data[Math.floor(Math.random()*data.length)].word.toUpperCase());}).then(function(){return console.log(\"Ok\");}).catch(function(err){return console.log(err);});};useEffect(function(){getWord();},[]);useEffect(function(){if(lives>=0&&status===\"Ongoing\"){checkWin();}});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GameLayout,{word:word,hiddenWord:hiddenWord,start:start,setStart:setStart,time:time,setTime:setTime,lives:lives,setLives:setLives,setStatus:setStatus,checkWin:checkWin,correct:correct,setCorrect:setCorrect,mode:\"Singleplayer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-1\",children:/*#__PURE__*/_jsxs(Modal,{show:isOpenModal,onClose:hideModal,children:[/*#__PURE__*/_jsx(ModalHeader,{children:/*#__PURE__*/_jsx(ModalTitle,{children:endMessage})}),/*#__PURE__*/_jsxs(ModalBody,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Bonus points: \",bonus]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Score: \",countPoints()]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"The word is: \",word]})]}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){return setShowSubmit(true);},children:\"Submit Score\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button\",children:\"Play Again\"})}),/*#__PURE__*/_jsx(SubmitScore,{show:showSubmit,onClose:function onClose(){return setShowSubmit(false);},score:countPoints()})]})]})})]});};export default Singleplayer;","map":{"version":3,"names":["React","useState","useEffect","SubmitScore","Modal","ModalHeader","ModalTitle","ModalBody","ModalFooter","GameLayout","Link","Singleplayer","isOpenModal","setIsOpenModal","showSubmit","setShowSubmit","start","setStart","time","setTime","word","setWord","correct","setCorrect","lives","setLives","status","setStatus","hiddenWord","toUpperCase","split","map","letter","includes","join","MAX_SCORE","MAX_BONUS","bonus","endMessage","showModal","hideModal","checkWin","endGame","countPoints","randomIntFromInterval","min","max","Math","floor","random","getWord","fetch","then","res","ok","Error","json","data","length","console","log","catch","err"],"sources":["/Users/izzah/Documents/Programming/hangman_project/client/src/components/Singleplayer.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport SubmitScore from \"./SubmitScore\";\nimport Modal from \"./modal/Modal\";\nimport ModalHeader from \"./modal/ModalHeader\";\nimport ModalTitle from \"./modal/ModalTitle\";\nimport ModalBody from \"./modal/ModalBody\";\nimport ModalFooter from \"./modal/ModalFooter\";\nimport GameLayout from \"./GameLayout\";\nimport { Link } from \"react-router-dom\";\n\nconst Singleplayer = () => {\n  const [isOpenModal, setIsOpenModal] = useState(false)\n  const [showSubmit, setShowSubmit] = useState(false)\n  const [start, setStart] = useState(false)\n  const [time, setTime] = useState(0)\n  const [word, setWord] = useState(\"\")\n  const [correct, setCorrect] = useState([])\n  const [lives, setLives] = useState(6) // 6 lives\n  const [status, setStatus] = useState(\"\")\n  const hiddenWord = word.toUpperCase().split(\"\").map(letter => correct.includes(letter) ? letter : \"_\").join(\" \")\n  const MAX_SCORE = 24000\n  const MAX_BONUS = 60000\n  const bonus = (time > 60000 || status === \"L\") ? 0 : MAX_BONUS - time\n  const endMessage = status === \"W\" ? \"You won!\" : \"You lost!\"\n  \n  const showModal = () => {\n    setIsOpenModal(true)\n  }\n\n  const hideModal = () => {\n    setIsOpenModal(false)\n  }\n\n  const checkWin = () => {\n    if (!hiddenWord.includes(\"_\") && lives > 0) {\n      setStatus(\"W\")\n      endGame()\n    } else if (hiddenWord.includes(\"_\") && lives === 0) {\n      setStatus(\"L\")\n      endGame()\n    }\n  }\n\n  const countPoints = () => {\n    if (status === \"W\" && lives > 0) {\n      return (lives / 6) * MAX_SCORE + bonus\n    } else {\n      return 0\n    }\n  }\n\n  const endGame = () => {\n    setStart(false)\n    showModal()\n  }\n\n  const randomIntFromInterval = (min, max) => {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  }\n\n  const getWord = () => {\n    fetch(`https://www.wordgamedb.com/api/v1/words/?numLetters=${randomIntFromInterval(3, 7)}`)\n      .then(res => {\n        if (!res.ok) {\n          throw new Error(\"Could not fetch word data.\")\n        }\n        return res.json()\n      })\n      .then(data => {\n        setWord(data[Math.floor(Math.random() * data.length)].word.toUpperCase())\n      })\n      .then(() => console.log(\"Ok\"))\n      .catch(err => console.log(err))\n  }\n\n  useEffect(() => {\n    getWord()\n  }, [])\n\n  useEffect(() => {\n    if ((lives >= 0) && status === \"Ongoing\") {\n      checkWin()\n    }\n  })\n\n  return (\n    <>\n      <GameLayout\n        word={word}\n        hiddenWord={hiddenWord}\n        start={start}\n        setStart={setStart}\n        time={time}\n        setTime={setTime}\n        lives={lives}\n        setLives={setLives}\n        setStatus={setStatus}\n        checkWin={checkWin}\n        correct={correct}\n        setCorrect={setCorrect}\n        mode={\"Singleplayer\"}\n      />\n      <div className=\"container-1\">\n        <Modal show={isOpenModal} onClose={hideModal}>\n          <ModalHeader>\n            <ModalTitle>{endMessage}</ModalTitle>\n          </ModalHeader>\n          <ModalBody>\n            <p>Bonus points: {bonus}</p>\n            <p>Total Score: {countPoints()}</p>\n            <p>The word is: {word}</p>\n          </ModalBody>\n          <ModalFooter>\n            <button className=\"button\" onClick={() => setShowSubmit(true)}>Submit Score</button>\n            <Link to=\"/\"><button className=\"button\">Play Again</button></Link>\n              <SubmitScore\n                show={showSubmit}\n                onClose={() => setShowSubmit(false)}\n                score={countPoints()}\n              />\n          </ModalFooter>\n        </Modal>\n      </div>\n    </>\n  )\n}\n\nexport default Singleplayer"],"mappings":"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"},"metadata":{},"sourceType":"module"}