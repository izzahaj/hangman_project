{"ast":null,"code":"import _slicedToArray from\"/Users/izzah/Documents/Programming/hangman_project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Modal from\"./modal/Modal\";import ModalHeader from\"./modal/ModalHeader\";import ModalTitle from\"./modal/ModalTitle\";import ModalBody from\"./modal/ModalBody\";import ModalFooter from\"./modal/ModalFooter\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SubmitScore=function SubmitScore(props){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var score=props.score;var handleSubmit=function handleSubmit(e){e.preventDefault();// http POST request here\nvar token=document.querySelector('meta[name=\"csrf-token\"]');var url=\"http://localhost:5000/api/add-user\";fetch(url,{method:'POST',headers:{\"X-CSRF-Token\":token,'Content-Type':'application/json'},body:JSON.stringify({username:username,score:score})}).then(function(res){if(!res.ok){throw new Error(\"Could not create user.\");}return res.json();}).then(function(){return console.log(\"Ok\");}).catch(function(err){return console.log(err);});navigate(\"/\");};return/*#__PURE__*/_jsxs(Modal,{show:props.show,onClose:props.onClose,children:[/*#__PURE__*/_jsx(ModalHeader,{children:/*#__PURE__*/_jsx(ModalTitle,{children:\"Submit Score\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(ModalBody,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Please enter a username:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-sm\",type:\"text\",name:\"username\",onChange:function onChange(e){return setUsername(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",children:\"Submit Score\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button-2\",onClick:props.onClose,children:\"Close\"})]})]})]});};export default SubmitScore;","map":{"version":3,"names":["React","useState","useNavigate","Modal","ModalHeader","ModalTitle","ModalBody","ModalFooter","SubmitScore","props","navigate","username","setUsername","score","handleSubmit","e","preventDefault","token","document","querySelector","url","fetch","method","headers","body","JSON","stringify","then","res","ok","Error","json","console","log","catch","err","show","onClose","target","value"],"sources":["/Users/izzah/Documents/Programming/hangman_project/client/src/components/SubmitScore.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\"\nimport Modal from \"./modal/Modal\";\nimport ModalHeader from \"./modal/ModalHeader\";\nimport ModalTitle from \"./modal/ModalTitle\";\nimport ModalBody from \"./modal/ModalBody\";\nimport ModalFooter from \"./modal/ModalFooter\";\n\nconst SubmitScore = (props) => {\n  const navigate = useNavigate()\n  const [username, setUsername] = useState(\"\")\n  const score = props.score\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    // http POST request here\n    const token = document.querySelector('meta[name=\"csrf-token\"]')\n    const url = \"http://localhost:5000/api/add-user\"\n\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        \"X-CSRF-Token\": token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ username, score })\n    })\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(\"Could not create user.\")\n      }\n      return res.json()\n    })\n    .then(() => console.log(\"Ok\"))\n    .catch(err => console.log(err))\n    navigate(\"/\")\n  }\n\n  return (\n    <Modal show={props.show} onClose={props.onClose}>\n      <ModalHeader>\n        <ModalTitle>Submit Score</ModalTitle>\n      </ModalHeader>\n      <form onSubmit={handleSubmit}>\n        <ModalBody>\n          <label htmlFor=\"username\">Please enter a username:</label>\n          <br/>\n          <input className=\"form-control form-control-sm\" type=\"text\" name=\"username\" onChange={e => setUsername(e.target.value)} required/>\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"button\" type=\"submit\">Submit Score</button>\n          <button className=\"button-2\" onClick={props.onClose}>Close</button>\n        </ModalFooter>\n      </form>\n    </Modal>\n  )\n}\n\nexport default SubmitScore"],"mappings":"+IAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,MAAP,KAAkB,eAAlB,CACA,MAAOC,YAAP,KAAwB,qBAAxB,CACA,MAAOC,WAAP,KAAuB,oBAAvB,CACA,MAAOC,UAAP,KAAsB,mBAAtB,CACA,MAAOC,YAAP,KAAwB,qBAAxB,C,wFAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAW,CAC7B,GAAMC,SAAQ,CAAGR,WAAW,EAA5B,CACA,cAAgCD,QAAQ,CAAC,EAAD,CAAxC,wCAAOU,QAAP,eAAiBC,WAAjB,eACA,GAAMC,MAAK,CAAGJ,KAAK,CAACI,KAApB,CAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACA;AACA,GAAMC,MAAK,CAAGC,QAAQ,CAACC,aAAT,CAAuB,yBAAvB,CAAd,CACA,GAAMC,IAAG,CAAG,oCAAZ,CAEAC,KAAK,CAACD,GAAD,CAAM,CACTE,MAAM,CAAE,MADC,CAETC,OAAO,CAAE,CACP,eAAgBN,KADT,CAEP,eAAgB,kBAFT,CAFA,CAMTO,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEf,QAAQ,CAARA,QAAF,CAAYE,KAAK,CAALA,KAAZ,CAAf,CANG,CAAN,CAAL,CAQCc,IARD,CAQM,SAAAC,GAAG,CAAI,CACX,GAAI,CAACA,GAAG,CAACC,EAAT,CAAa,CACX,KAAM,IAAIC,MAAJ,CAAU,wBAAV,CAAN,CACD,CACD,MAAOF,IAAG,CAACG,IAAJ,EAAP,CACD,CAbD,EAcCJ,IAdD,CAcM,iBAAMK,QAAO,CAACC,GAAR,CAAY,IAAZ,CAAN,EAdN,EAeCC,KAfD,CAeO,SAAAC,GAAG,QAAIH,QAAO,CAACC,GAAR,CAAYE,GAAZ,CAAJ,EAfV,EAgBAzB,QAAQ,CAAC,GAAD,CAAR,CACD,CAvBD,CAyBA,mBACE,MAAC,KAAD,EAAO,IAAI,CAAED,KAAK,CAAC2B,IAAnB,CAAyB,OAAO,CAAE3B,KAAK,CAAC4B,OAAxC,wBACE,KAAC,WAAD,wBACE,KAAC,UAAD,2BADF,EADF,cAIE,cAAM,QAAQ,CAAEvB,YAAhB,wBACE,MAAC,SAAD,yBACE,cAAO,OAAO,CAAC,UAAf,sCADF,cAEE,aAFF,cAGE,cAAO,SAAS,CAAC,8BAAjB,CAAgD,IAAI,CAAC,MAArD,CAA4D,IAAI,CAAC,UAAjE,CAA4E,QAAQ,CAAE,kBAAAC,CAAC,QAAIH,YAAW,CAACG,CAAC,CAACuB,MAAF,CAASC,KAAV,CAAf,EAAvF,CAAwH,QAAQ,KAAhI,EAHF,GADF,cAME,MAAC,WAAD,yBACE,eAAQ,SAAS,CAAC,QAAlB,CAA2B,IAAI,CAAC,QAAhC,0BADF,cAEE,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE9B,KAAK,CAAC4B,OAA5C,mBAFF,GANF,GAJF,GADF,CAkBD,CAhDD,CAkDA,cAAe7B,YAAf"},"metadata":{},"sourceType":"module"}