{"ast":null,"code":"var _jsxFileName = \"/Users/izzah/Documents/Programming/hangman_project/client/src/components/Singleplayer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Modal from \"./Modal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Singleplayer = () => {\n  _s();\n\n  const alphabets = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\"];\n  const [isOpenModal, setIsOpenModal] = useState(false);\n  const [word, setWord] = useState(\"\");\n  const [correct, setCorrect] = useState([]);\n  const [guessed, setGuessed] = useState([]);\n  const [lives, setLives] = useState(6); // 6 lives\n\n  const [message, setMessage] = useState(lives + \"lives left\");\n  const [points, setPoints] = useState(0);\n  const [status, setStatus] = useState(\"Ongoing\");\n  const hiddenWord = word.toUpperCase().split(\"\").map(letter => correct.includes(letter) ? letter : \"_\").join(\" \");\n  let guesses = guessed.join(\" \");\n  const MAX_SCORE = 2400;\n\n  const showModal = () => {\n    setIsOpenModal(true);\n  };\n\n  const hideModal = () => {\n    setIsOpenModal(false);\n  };\n\n  const checkWin = () => {\n    if (!hiddenWord.includes(\"_\") && lives > 0) {\n      setMessage(\"You win!\");\n      setStatus(\"W\");\n      countPoints();\n    } else if (hiddenWord.includes(\"_\") && lives <= 0) {\n      setMessage(\"You Lose!\");\n      setStatus(\"L\");\n      countPoints();\n    } else {\n      setMessage(lives + \" lives left\");\n      setStatus(\"Ongoing\");\n    }\n\n    return message;\n  };\n\n  const countPoints = () => {\n    if (status === \"W\" && lives > 0) {\n      setPoints(lives / 6 * MAX_SCORE);\n    }\n  };\n\n  const endGame = () => {\n    if (status === \"W\") {\n      alert(\"You win\"); // replace with modal and submit score to database\n    } else if (status === \"L\") {\n      alert(\"You lose\"); // replace with modal and submit score to database\n    }\n  };\n\n  const randomIntFromInterval = (min, max) => {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  };\n\n  const getWord = () => {\n    fetch(`https://www.wordgamedb.com/api/v1/words/?numLetters=${randomIntFromInterval(3, 7)}`).then(res => {\n      if (!res.ok) {\n        throw new Error(\"Could not fetch word data.\");\n      }\n\n      return res.json();\n    }).then(data => {\n      setWord(data[Math.floor(Math.random() * data.length)].word.toUpperCase());\n    }).then(() => console.log(\"Ok\")).catch(err => console.log(err));\n  };\n\n  useEffect(() => {\n    getWord();\n  }, []);\n  useEffect(() => {\n    checkWin();\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Singleplayer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: hiddenWord\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), alphabets.map((a, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        if (word.includes(a) && !guesses.includes(a)) {\n          setCorrect([...correct, a]);\n          setGuessed([...guessed, a]);\n          checkWin();\n        } else if (!guesses.includes(a)) {\n          setLives(lives - 1);\n          setGuessed([...guessed, a]);\n          checkWin();\n        }\n      },\n      children: a\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 32\n    }, this)), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: guesses\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: status !== \"Ongoing\" ? points : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: isOpenModal,\n      onClose: hideModal,\n      title: \"Title\",\n      children: \"Modal Test\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Singleplayer, \"Auvc6RAyzpFJhCdGrdFR4R6Qae4=\");\n\n_c = Singleplayer;\nexport default Singleplayer; // General game logic to implement\n// 6 lives --> player gets more points if they with fewer incorrect guesses/more lives left\n// run a stopwatch --> the faster the time taken to win, the more points they get\n// max score from lives alone = 2400\n// add bonus points based on time taken\n// if take more than 1 min, no bonus points\n// time-based bonus points --> figure out the math for this\n// display no. of lives left\n// display letters used\n// only allow letters as guesses\n// update gallows & lives every time an incorrect guess is made\n// ensure user cannot continue playing when lives === 0 or if user wins\n// submit username & score to database upon completion of game\n// reveal word at end of game regardless of outcome\n\nvar _c;\n\n$RefreshReg$(_c, \"Singleplayer\");","map":{"version":3,"names":["React","useState","useEffect","Modal","Singleplayer","alphabets","isOpenModal","setIsOpenModal","word","setWord","correct","setCorrect","guessed","setGuessed","lives","setLives","message","setMessage","points","setPoints","status","setStatus","hiddenWord","toUpperCase","split","map","letter","includes","join","guesses","MAX_SCORE","showModal","hideModal","checkWin","countPoints","endGame","alert","randomIntFromInterval","min","max","Math","floor","random","getWord","fetch","then","res","ok","Error","json","data","length","console","log","catch","err","a","i"],"sources":["/Users/izzah/Documents/Programming/hangman_project/client/src/components/Singleplayer.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Modal from \"./Modal\";\n\nconst Singleplayer = () => {  \n  const alphabets = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\",\n        \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\",\n        \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\"];\n  const [isOpenModal, setIsOpenModal] = useState(false) \n  const [word, setWord] = useState(\"\")\n  const [correct, setCorrect] = useState([])\n  const [guessed, setGuessed] = useState([])\n  const [lives, setLives] = useState(6) // 6 lives\n  const [message, setMessage] = useState(lives + \"lives left\")\n  const [points, setPoints] = useState(0)\n  const [status, setStatus] = useState(\"Ongoing\")\n  const hiddenWord = word.toUpperCase().split(\"\").map(letter => correct.includes(letter) ? letter : \"_\").join(\" \")\n  let guesses = guessed.join(\" \")\n  const MAX_SCORE = 2400\n\n  const showModal = () => {\n    setIsOpenModal(true)\n  }\n\n  const hideModal = () => {\n    setIsOpenModal(false)\n  }\n  \n  const checkWin = () => {\n    if (!hiddenWord.includes(\"_\") && lives > 0) {\n      setMessage(\"You win!\")\n      setStatus(\"W\")\n      countPoints()\n    } else if (hiddenWord.includes(\"_\") && lives <= 0) {\n      setMessage(\"You Lose!\")\n      setStatus(\"L\")\n      countPoints()\n    } else {\n      setMessage(lives + \" lives left\")\n      setStatus(\"Ongoing\")\n    }\n    return message\n  }\n  \n  const countPoints = () => {\n    if (status === \"W\" && lives > 0) {\n      setPoints((lives / 6) * MAX_SCORE)\n    }\n  }\n\n  const endGame = () => {\n    if (status === \"W\") {\n      alert(\"You win\") // replace with modal and submit score to database\n    } else if (status === \"L\") {\n      alert(\"You lose\") // replace with modal and submit score to database\n    }\n  }\n\n  const randomIntFromInterval = (min, max) => {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  }\n\n  const getWord = () => {\n    fetch(`https://www.wordgamedb.com/api/v1/words/?numLetters=${randomIntFromInterval(3, 7)}`)\n      .then(res => {\n        if (!res.ok) {\n          throw new Error(\"Could not fetch word data.\")\n        }\n        return res.json()\n      })\n      .then(data => {\n        setWord(data[Math.floor(Math.random() * data.length)].word.toUpperCase())\n      })\n      .then(() => console.log(\"Ok\"))\n      .catch(err => console.log(err))\n  }\n\n  useEffect(() => {\n    getWord()\n  }, [])\n\n  useEffect(() => {\n    checkWin()\n  })\n  \n  return(\n    <div>\n      <h1>Singleplayer</h1>\n      <h2>{hiddenWord}</h2>\n      {alphabets.map((a, i) => <button key={i} onClick={() => {\n        if (word.includes(a) && !guesses.includes(a)) {\n          setCorrect([...correct, a])\n          setGuessed([...guessed, a])\n          checkWin()\n        } else if (!guesses.includes(a)) {\n          setLives(lives - 1)\n          setGuessed([...guessed, a])\n          checkWin()\n        }\n      }}>{a}</button>)}\n      <h2>{guesses}</h2>\n      <h2>{message}</h2>\n      <h2>{status !== \"Ongoing\" ? points : null}</h2>\n      <Modal show={isOpenModal} onClose={hideModal} title=\"Title\">\n        Modal Test\n      </Modal>\n    </div>\n  )\n}\n\nexport default Singleplayer\n\n// General game logic to implement\n// 6 lives --> player gets more points if they with fewer incorrect guesses/more lives left\n// run a stopwatch --> the faster the time taken to win, the more points they get\n// max score from lives alone = 2400\n// add bonus points based on time taken\n// if take more than 1 min, no bonus points\n// time-based bonus points --> figure out the math for this\n// display no. of lives left\n// display letters used\n// only allow letters as guesses\n// update gallows & lives every time an incorrect guess is made\n// ensure user cannot continue playing when lives === 0 or if user wins\n// submit username & score to database upon completion of game\n// reveal word at end of game regardless of outcome"],"mappings":"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"},"metadata":{},"sourceType":"module"}